<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUSH High GPA Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 {
            color: #333;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .grade-input, .unit-input {
            width: 70px;
            padding: 5px;
            box-sizing: border-box;
        }
        .elective-select {
            padding: 5px;
        }
        .gpa-result {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
            margin-top: 20px;
            padding: 10px;
            background-color: #e9f5ff;
            border-radius: 5px;
        }
        .grade-point-guide {
            margin-top: 30px;
            padding: 15px;
            background-color: #fff8e1;
            border-left: 5px solid #ffecb3;
            margin-bottom: 20px;
        }
        .grade-point-guide h3 {
            margin-top: 0;
            color: #fb8c00;
        }
        .grade-point-guide table {
            width: auto;
            margin-top: 10px;
        }
        .grade-point-guide th, .grade-point-guide td {
            padding: 5px 10px;
        }
    </style>
</head>
<body>

    <h1>NUS High GPA Calculator</h1>

    <div class="grade-point-guide">
        <h3>Grade Point Conversion Guide (Standard 5.0 Scale Example)</h3>
        <p>Use this guide to convert your letter grades to grade points for input.</p>
        <table>
            <thead>
                <tr>
                    <th>Grade</th>
                    <th>Grade Point</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>A+</td><td>5.0</td></tr>
                <tr><td>A</td><td>5.0</td></tr>
                <tr><td>Distinction</td><td>5.0</td></tr>
                <tr><td>A-</td><td>4.0</td></tr>
                <tr><td>B+</td><td>3.5</td></tr>
                <tr><td>B</td><td>3.0</td></tr>
                <tr><td>B-</td><td>2.5</td></tr>
                <tr><td>C+</td><td>2.0</td></tr>
                <tr><td>C</td><td>1.5</td></tr>
                <tr><td>D</td><td>1.0</td></tr>
                <tr><td>F / U / In Progress / No Grade</td><td>0.0</td></tr>
            </tbody>
        </table>
        
    </div>

    <table>
        <thead>
            <tr>
                <th>Course Code</th>
                <th>Course Name</th>
                <th>Course Type</th>
                <th>Units</th>
                <th>Your Grade Point</th>
                <th>Taken (for Electives)</th>
            </tr>
        </thead>
        <tbody id="course-list">
            <tr data-course-type="core">
                <td>BL1131</td>
                <td>Foundations In Biology I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="4" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>CH1531</td>
                <td>Higher Chinese I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="3.5" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>CM1131</td>
                <td>Foundations In Chemistry I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="4" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>CM1331</td>
                <td>Chemical Potpourri I</td>
                <td>Enrichment</td>
                <td><input type="number" class="unit-input" value="2" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>DV1133</td>
                <td>Science Presentations</td>
                <td>Research</td>
                <td><input type="number" class="unit-input" value="0" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>EL1131</td>
                <td>Language And Literary Studies I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="4" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>HU1131</td>
                <td>Humanities Studies I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="3" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
             <tr data-course-type="core">
                <td>MA1133</td>
                <td>Foundations In Math I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="6" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>MA2133</td>
                <td>Foundations In Math II</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="8" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>MU1134</td>
                <td>Foundations In Music</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="2" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>
            <tr data-course-type="core">
                <td>PC1131</td>
                <td>Foundations In Physics I</td>
                <td>Core</td>
                <td><input type="number" class="unit-input" value="4" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>N/A</td>
            </tr>

            <tr data-course-type="elective">
                <td>MA1231</td>
                <td>Math Olympiad Training I</td>
                <td>Elective</td>
                <td><input type="number" class="unit-input" value="2" step="0.5" readonly></td>
                <td><input type="number" class="grade-input" value="0" step="0.1" oninput="calculateGPA()"></td>
                <td>
                    <select class="elective-select" onchange="calculateGPA()">
                        <option value="no">No</option>
                        <option value="yes">Yes</option>
                    </select>
                </td>
            </tr>
            </tbody>
    </table>

    <div class="gpa-result">
        Your Calculated GPA: <span id="gpa-value">0.00</span>
    </div>

    <script>
        function calculateGPA() {
            let totalGradePoints = 0;
            let totalUnits = 0;

            const rows = document.querySelectorAll('#course-list tr');

            rows.forEach(row => {
                const courseType = row.dataset.courseType;
                const unitInput = row.querySelector('.unit-input');
                const gradeInput = row.querySelector('.grade-input');
                const electiveSelect = row.querySelector('.elective-select');

                let includeCourse = true;

                // For elective subjects, check if they were taken
                if (courseType === 'elective' && electiveSelect) {
                    if (electiveSelect.value === 'no') {
                        includeCourse = false;
                    }
                }

                if (includeCourse) {
                    const units = parseFloat(unitInput.value);
                    const gradePoint = parseFloat(gradeInput.value);

                    // Only include valid numbers for calculation
                    if (!isNaN(units) && !isNaN(gradePoint)) {
                        totalGradePoints += (gradePoint * units);
                        totalUnits += units;
                    }
                }
            });

            let gpa = 0;
            if (totalUnits > 0) {
                gpa = totalGradePoints / totalUnits;
            }

            document.getElementById('gpa-value').textContent = gpa.toFixed(2); // Display GPA to 2 decimal places
        }

        // Calculate GPA on initial page load
        document.addEventListener('DOMContentLoaded', calculateGPA);
    </script>

</body>
</html>
